(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{18:function(e,n,t){e.exports=t(40)},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(16),u=t.n(c),l=t(17),o=t(6),i=t(2),m=function(e){var n=e.filterNames;return r.a.createElement("div",null,"filter shown with  ",r.a.createElement("input",{onChange:n}))},d=function(e){var n=e.addName,t=e.handleNameChange,a=e.handleNumberChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:t})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{onChange:a})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},s=function(e){var n=e.filteredName,t=e.persons,a=e.handleDelete;return r.a.createElement("div",null,n.length>0?n.map((function(e){return r.a.createElement("p",{key:e},e)})):t.map((function(e){return r.a.createElement("p",{key:e.number},r.a.createElement("span",null,e.name,": ",e.number),r.a.createElement("button",{onClick:function(){return n=e.name,t=e.id,void(window.confirm("Are you sure you want to delete ".concat(n," ?"))&&a(t));var n,t}},"Delete"))})))},f=function(e){var n=e.message,t={color:e.greenMessage?"green":"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return null===n?null:r.a.createElement("div",null,n&&r.a.createElement("div",{style:t},n))},b=t(4),h=t.n(b),p="/api/persons",E=function(){return h.a.get(p)},g=function(e){return h.a.post(p,e)},v=function(e){return h.a.delete("".concat(p,"/").concat(e))},O=function(e,n){return h.a.put("".concat(p,"/").concat(e),n)},j=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],u=Object(a.useState)(""),b=Object(i.a)(u,2),h=b[0],p=b[1],j=Object(a.useState)(""),y=Object(i.a)(j,2),w=y[0],N=y[1],S=Object(a.useState)(""),k=Object(i.a)(S,2),C=k[0],D=k[1],T=Object(a.useState)(""),A=Object(i.a)(T,2),B=A[0],J=A[1],M=Object(a.useState)(null),U=Object(i.a)(M,2),x=U[0],z=U[1];Object(a.useEffect)((function(){E().then((function(e){return c(e.data)}))}),[]);var I=t.map((function(e){return e.name}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(f,{message:B,greenMessage:x}),r.a.createElement(m,{filterNames:function(e){var n=e.target.value.toUpperCase(),t=I.filter((function(e){return e.toUpperCase().includes(n)}));D(t)}}),r.a.createElement("h2",null,"Add a new "),r.a.createElement(d,{addName:function(e){e.preventDefault();var n={name:h,number:w,id:t.length+1};I.includes(h)?window.confirm("".concat(h," is already added to phonebook, do you want to replace the old number with a new one ?"))&&t.map((function(e){e.name===h&&O(e.id,Object(o.a)(Object(o.a)({},n),{},{number:w})).catch((function(e){J("Opps information of ".concat(h," has already been removed from the server :(")),setTimeout((function(){J(null)}),5e3),z(null)})),J("".concat(h," Successfully changed number to ").concat(w," ")),setTimeout((function(){J(null)}),5e3),z(!0)})):g(n).then((function(e){c([].concat(Object(l.a)(t),[e.data])),J("Successfully added ".concat(h)),setTimeout((function(){J(null)}),5e3),z(!0)})).catch((function(e){J(e.response.data.error),setTimeout((function(){J(null)}),5e3),z(null)}))},handleNameChange:function(e){p(e.target.value)},handleNumberChange:function(e){N(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(s,{persons:t,filteredName:C,handleDelete:function(e){v(e)}}))};u.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.cf4e321f.chunk.js.map